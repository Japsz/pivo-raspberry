<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pivo BeerStand</title>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/cover.css">
</head>
<body class="text-center">
<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto">
        <div class="inner">
            <h3 class="masthead-brand">Pivo BeerTable</h3>
            <nav class="nav nav-masthead justify-content-center">
                <a class="nav-link active" href="#">Inicio</a>
                <a class="nav-link" href="#">Arduino</a>
            </nav>
        </div>
    </header>

    <main role="main" class="inner cover">
        <h1 class="cover-heading">Pivo Autoservicio.</h1>
        <p class="lead" id="footerdiv">Arduino Desconectado.</p>
        <p class="lead">
            Medicion: <div id="maindiv">0</div>
        </p>
    </main>

    <footer class="mastfoot mt-auto">
        <div class="inner" id="superfooter">
            <p>Realizado por cracks, para cracks 8)</p>
        </div>
    </footer>
    <script type="text/javascript" src="/assets/js/jquery-3-4-1.min.js"></script>
    <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/assets/js/socket.io.js"></script>
		<script>
		var socket = io('http://localhost:3000');
		socket.emit('entry','japus');
		socket.on('conexion',function(){
			$("#footerdiv").html("conexión establecida");
		});
		socket.on('data', function(data){
			$("#maindiv").html(data);
			});
		</script>
<!--
    <script>
        const SerialPort = require('serialport');
        const Readline = require('@serialport/parser-readline');
        const port = new SerialPort('/dev/ttyUSB0', { baudRate: 9600 });
        // Read the port data
        port.on("open", function(){
            $("#footerdiv").html("puerto serial abierto");
        });

        port.on('data', function(data){
            $("#maindiv").html(data);
        });
        port.on('readable', function () {
            $("#maindiv").html('Data:', port.read());
        })
        // Open errors will be emitted as an error event
        port.on('error', function(err) {
            $("#footerdiv").html('Error: ', err.message);
        });
        const parser = port.pipe(new Readline({ delimiter: '\n' }));
        $("#superfooter").html("arduino.js hizo esto");

    </script>
    -->
</div>
<!-- Modal para emezar la medición -->
</body>
</html>
